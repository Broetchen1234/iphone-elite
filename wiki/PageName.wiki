#summary A tool to access the modem directly.
#labels Featured


= Introduction =
The tool _sendmodem_ is a tool that directly accesses the modem/baseband through /dev/tty.debug without the need to disable the commcenter.


= Details =

Normally, the modem/baseband is accessed through minicom which issues commands to /dev/tty.baseband. In order for minicom to work, the commcenter first needs to be disabled, then your can run minicom, and after you are done with minicom you again need to enable the commcenter.
{{{
# cd /usr/bin
# launchctl unload -w /System/Library/LaunchDaemons/com.apple.CommCenter.plist
# minicom
# launchctl load -w /System/Library/LaunchDaemons/com.apple.CommCenter.plist
}}}

With _sendmodem_ commands to the modem/baseband can be directly executed from the commandline.

In order to use _sendmodem_ on your iPhone, do the following:
  # Upload the file _sendmodem_ to your iPhone in /usr/bin (use your favorite program for this e.g. winscp, ibrickr, etc.)
  # On your iPhone execute the following commands (e.g. from the terminal window or through ssh):
  {{{
  # cd /usr/bin
  # chmod +x sendmodem
  }}} 

To try _sendmodem_ out, you can execute on your iPhone the following commands:
  * To see the help of _sendmodem:
  {{{
  # sendmodem
  }}}
  which will respond with:
  {{{ 
  usage: sendmodem <at command>
  examples:       sendmodem "AT+XSIMSTATE=1"
                  sendmodem "AT+XGENDATA"
                  sendmodem "AT+CLCK=\"SC\",2"
  }}}
  * To query the baseband:
 {{{
  # sendmodem "AT+XGENDATA"
  }}}
  which will respond with (depending on your firmware and bootloader version):
  {{{ 
  Sending command to modem: AT
  --.+
  AT
  OK
  Sending command to modem: AT+XGENDATA
  -..+
  AT+XGENDATA
  +XGENDATA: "
  ",
             "DEV_ICE_MODEM_04.01.13_G",
  "EEP_VERSION:207",
  "EEP_REVISION:8",
  "BOOTLOADER_VERSION:3.9_M3S2",1,0
 
  OK
  }}}

== Notes ==

  # _sendmodem_ always initiates communication to the modem/baseband with the "AT" command and waits till it receives the responde "OK". While waiting it will write "-" to your screen.
  # The original modem state is saved before any commands are send and restored after executing your commands.
  # The original code was obtained from the _iPhone-sms_ application source code, available from [http://code.google.com/p/iphone-sms] and was slightly modified in its screen output format

= Another example =

Have you ever wondered how to make iTunes display your phone number if it is not showing? Here are the commands to enter: